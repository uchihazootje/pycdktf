# Author

Zohair Arbib
https://www.linkedin.com/in/zohair-arbib/

# CDKTF Project

This repository contains infrastructure code written using the **Cloud Development Kit for Terraform (CDKTF)** with Python. The project is designed to define, synthesize, and deploy infrastructure as code (IaC). In this repository Dev Containers and Poetry is used to create an isolated development environment in a docker container with the resources needed to program in python with CDKTF. Furthermore, examples are added to code in CDKTF and deploy resources to Azure.

---

## Prerequisites

Ensure you have the following installed before proceeding:

1. **Docker**
   Install from [Docker official website](https://www.docker.com).

2. **Dev Containers vscode extension**
   Download from [Vscode Marketplace official website](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers).

---

## Project Structure
  - main.py: The main entry point of the CDKTF application.
	- cdktf.json: Configuration file specifying providers and the app entry point.
	- imports/: Contains provider bindings generated by CDKTF.
	- cdktf.out/: Output directory containing synthesized Terraform configurations.


## Instructions

1. Build the devcontainer in vscode using the CTRL+SHIFT+P or CMD+SHIFT+P command and select: **Dev Containers: Rebuild and Reopen in Container**.
2. Fill in the empty environment variables in the **confige_terraform_local.sh** script. The script can be found in the **scripts** folder in the repos.
3. Run the following command in a terminal in the root of the repository: **source ./scripts/confige_terraform_local.sh azlogin**. The script will ask for the client secret to be used for authentication. Please paste the client secret and press enter. The secret will not be shown in the terminal.
4. Run the following command to deploy a stack (defined in the main.py) to the Azure Subscription.

HAPPY PROGRAMMING!


